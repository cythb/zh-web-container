<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
<!--        <script src="./src/index.js"></script>-->
    
    </head>
    <body>
        <div id="top" style="height: 44pt;"></div>
        <input type="button" value="跳转页面2" onclick="onClickBtn1()" />
        <input type="button" value="跳转页面不存在" onclick="onClickBtn2()" />
        <input type="button" value="对话框" onclick="onClickBtn3()" />
        <input type="button" value="前摄像头" onclick="onClickBtn4()" />
        <input type="button" value="后摄像头" onclick="onClickBtn5()" />
        <input type="button" value="选择相片" onclick="onClickBtn6()" />
        <input type="button" value="二维码" onclick="onClickBtn7()" />
        <input type="button" value="二维码(相机)" onclick="onClickBtn8()" />
        <input type="button" value="文件列表" onclick="onClickBtn9()" />
        <input type="button" value="删除文件" onclick="onClickBtn10()" />
        <input type="button" value="unzip" onclick="onClickBtn11()" />
        <input type="button" value="download" onclick="onClickBtn12()" />
        
        <div id='output'></div>
        <script>
            function onClickBtn1() {
                native.reLaunch('index2.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }
        
            function onClickBtn2() {
                native.reLaunch('index21.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }

            function onClickBtn3() {
                native.reLaunch('dialog.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }

            function onClickBtn4() {
                native.takePhoto('front',
                (data) => {
                    console.log('takePhoto 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('takePhoto 失败')
                }, () => {
                    console.log('takePhoto complete')
                })
            }

            function onClickBtn5() {
                native.takePhoto('rear',
                (data) => {
                    console.log('takePhoto 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('takePhoto 失败')
                }, () => {
                    console.log('takePhoto complete')
                })
            }

            function onClickBtn6() {
                native.chooseImage('album',
                (data) => {
                    console.log('chooseImage 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('chooseImage 失败')
                }, () => {
                    console.log('chooseImage complete')
                })
            }

            function onClickBtn7() {
                native.scanCode(false,
                (data) => {
                    console.log('scanCode 完成：' + data.result)
                    log('scanCode 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('scanCode 失败')
                }, () => {
                    console.log('scanCode complete')
                })
            }

            function onClickBtn8() {
                native.scanCode(true,
                (data) => {
                    console.log('scanCode 完成：' + data.result)
                    log('scanCode 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('scanCode 失败')
                }, () => {
                    console.log('scanCode complete')
                })
            }

            function onClickBtn9() {
                native.getFileList('Documents',
                (data) => {
                    log('getFileList 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('getFileList 失败')
                }, () => {
                    console.log('getFileList complete')
                })
            }

            function onClickBtn10() {
                native.rmFile('tmp/1610887026.3407211.jpg',
                (data) => {
                    log('rmFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('rmFile 失败')
                }, () => {
                    console.log('rmFile complete')
                })
            }

            function onClickBtn11() {
                native.unzip('Documents/file.zip',
                'Documents/unzip',
                (data) => {
                    log('rmFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('rmFile 失败')
                }, () => {
                    console.log('rmFile complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            }

            function onClickBtn12() {
                native.downloadFile('http://down10.zol.com.cn/bianji/setup_wnysxz103.exe',
                'Documents/setup_wnysxz103.exe',
                (data) => {
                    log('downloadFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('downloadFile 失败')
                }, () => {
                    console.log('downloadFile complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            }  

            log('systemInfo:')
            log(JSON.stringify(systemInfo))
        </script>
    </body>
</html>
