<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
<!--        <script src="./src/index.js"></script>-->
    
    </head>
    <body>
        <div id="top" style="height: 44pt;"></div>
        <input type="button" value="跳转页面2" onclick="onClickBtn1()" />
        <input type="button" value="跳转页面不存在" onclick="onClickBtn2()" />
        <input type="button" value="对话框" onclick="onClickBtn3()" />
        <input type="button" value="前摄像头" onclick="onClickBtn4()" />
        <input type="button" value="后摄像头" onclick="onClickBtn5()" />
        <input type="button" value="选择相片" onclick="onClickBtn6()" />
        <input type="button" value="二维码" onclick="onClickBtn7()" />
        <input type="button" value="二维码(相机)" onclick="onClickBtn8()" />
        <input type="button" value="文件列表" onclick="onClickBtn9()" />
        <input type="button" value="删除文件" onclick="onClickBtn10()" />
        <input type="button" value="unzip" onclick="onClickBtn11()" />
        <input type="button" value="download" onclick="onClickBtn12()" />
        <input type="button" value="upload" onclick="onClickBtn13()" />
        <input type="button" value="open sqlite" onclick="onClickBtn14()" />
        <input type="button" value="close sqlite" onclick="onClickBtn15()" />
        <input type="button" value="create sqlite" onclick="onClickBtn16()" />
        <input type="button" value="insert sqlite" onclick="onClickBtn17()" />
        <input type="button" value="select sqlite" onclick="onClickBtn18()" />
        <input type="button" value="下载打开login" onclick="onClickBtn19()" />
        <input type="button" value="打开内置主页" onclick="onClickBtn20()" />
        
        <div id='output'></div>
        <script>
            function onClickBtn1() {
                native.reLaunch('index2.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }
        
            function onClickBtn2() {
                native.reLaunch('index21.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }

            function onClickBtn3() {
                native.reLaunch('dialog.html', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }

            function onClickBtn4() {
                native.takePhoto('front',
                (data) => {
                    console.log('takePhoto 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('takePhoto 失败')
                }, () => {
                    console.log('takePhoto complete')
                })
            }

            function onClickBtn5() {
                native.takePhoto('rear',
                (data) => {
                    console.log('takePhoto 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('takePhoto 失败')
                }, () => {
                    console.log('takePhoto complete')
                })
            }

            function onClickBtn6() {
                native.chooseImage('album',
                (data) => {
                    console.log('chooseImage 完成：' + data.tempImagePath)
                }, (data) => {
                    console.log('chooseImage 失败')
                }, () => {
                    console.log('chooseImage complete')
                })
            }

            function onClickBtn7() {
                native.scanCode(false,
                (data) => {
                    console.log('scanCode 完成：' + data.result)
                    log('scanCode 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('scanCode 失败')
                }, () => {
                    console.log('scanCode complete')
                })
            }

            function onClickBtn8() {
                native.scanCode(true,
                (data) => {
                    console.log('scanCode 完成：' + data.result)
                    log('scanCode 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('scanCode 失败')
                }, () => {
                    console.log('scanCode complete')
                })
            }

            function onClickBtn9() {
                native.getFileList('Documents',
                (data) => {
                    log('getFileList 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('getFileList 失败')
                }, () => {
                    console.log('getFileList complete')
                })
            }

            function onClickBtn10() {
                native.rmFile('tmp/1610887026.3407211.jpg',
                (data) => {
                    log('rmFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('rmFile 失败')
                }, () => {
                    console.log('rmFile complete')
                })
            }

            function onClickBtn11() {
                native.unzip('Documents/file.zip',
                'Documents/unzip',
                (data) => {
                    log('rmFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('rmFile 失败')
                }, () => {
                    console.log('rmFile complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            }

            function onClickBtn12() {
                native.downloadFile('http://down10.zol.com.cn/bianji/setup_wnysxz103.exe',
                'Documents/setup_wnysxz103.exe',
                (data) => {
                    log('downloadFile 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('downloadFile 失败')
                }, () => {
                    console.log('downloadFile complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            }  

            function onClickBtn13() {
                native.uploadFile('http://192.168.0.108:8000/upload',
                'Documents/setup_wnysxz103.exe',
                'filename',
                {'data1': 'a'},
                (data) => {
                    log('upload file 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('upload file 失败')
                }, () => {
                    console.log('upload file complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            }  

            function onClickBtn14() {
                native.openSqlite('Documents/test.sqlite',
                (data) => {
                    log('open sqlite 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('open sqlite 失败')
                }, () => {
                    console.log('open sqlite complete')
                })
            }  

            function onClickBtn15() {
                native.closeSqlite(
                (data) => {
                    log('close sqlite 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('close sqlite 失败')
                }, () => {
                    console.log('close sqlite complete')
                })
            }  

            function onClickBtn16() {
                native.executeUpdate('create table test(x text, y text, z int)',
                (data) => {
                    log('executeUpdate 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('executeUpdate 失败')
                }, () => {
                    console.log('executeUpdate complete')
                })
            }

            function onClickBtn17() {
                native.executeUpdate('insert into test (x, y, z) values ("a", "b", 3)',
                (data) => {
                    log('插入 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('插入 失败')
                }, () => {
                    console.log('插入 complete')
                })
            }

            function onClickBtn18() {
                native.executeQuery('select x, y, z from test',
                (data) => {
                    log('select 完成')
                    log(JSON.stringify(data))
                }, (data) => {
                    console.log('select 失败')
                }, () => {
                    console.log('select complete')
                })
            }

            function onClickBtn19() {
                native.downloadFile('https://bonawise-dev.oss-cn-hangzhou.aliyuncs.com/DEMO/login.html',
                'Documents/login.html',
                (data) => {
                    log('downloadFile 完成')
                    native.reLaunch('Documents/login.html', (data) => {
                        console.log('success')
                    }, (data) => {
                        console.log('fail')
                    }, () => {
                        console.log('complete')
                    })
                }, (data) => {
                    console.log('downloadFile 失败')
                }, () => {
                    console.log('downloadFile complete')
                }, (percent) => {
                    const text = 'progress: ' + percent
                    log(text)
                })
            } 

            function onClickBtn20() {
                native.reLaunch('mainbundle/index', (data) => {
                    console.log('success')
                }, (data) => {
                    console.log('fail')
                }, () => {
                    console.log('complete')
                })
            }

            log('systemInfo:')
            log(JSON.stringify(systemInfo))
        </script>
    </body>
</html>
